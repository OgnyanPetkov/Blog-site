{% extends "base.html" %}
{% block content %}
<div class="wrapper">
    <div class="dropdown">
        <button class="dropbtn">Menu</button>
        <div class="dropdown-content">
            {% if not current_user.is_authenticated %}
            <a href="{{ url_for('auth.login') }}">Log In</a>
            <a href="{{ url_for('auth.sign_up') }}">Sign Up!</a>
            <a href="{{ url_for('views.contact_me') }}">Contact me!</a>
            {% endif %}
            {% if current_user.is_authenticated %}
            <a href="{{ url_for('views.add_blog') }}">Add new post</a>
            <a href="{{ url_for('views.contact_me') }}">Contact me!</a>
            {% endif %}
        </div>
    </div>
    <div class="top">
        <div class="title"><h1>Sign Up</h1></div>
    </div>
</div>
<div class="card">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="notification is-danger">
        {{ messages[0] }}. If you have account, go to <a href="{{ url_for('auth.login') }}">login page</a>.
    </div>
    {% endif %}
    {% endwith %}
    <form method="POST" action="{{ url_for('auth.sign_up') }}" novalidate>
        {{ form.csrf_token }}
        <p>{{ form.name.label }} {{ form.name(size=20) }}
            {% for err in form.name.errors %}
            <span style="color: red">{{ err }}</span>
            {% endfor %}
        </p>
        <p>{{ form.email.label }} {{ form.email(size=20) }}
            {% for err in form.email.errors %}
            <span style="color: red">{{ err }}</span>
            {% endfor %}
        </p>
        <p>{{ form.password.label }} {{ form.password(size=30) }}
            {% for err in form.password.errors %}
            <span style="color: red">{{ err }}</span>
            {% endfor %}
        </p>
                <p>{{ form.confirm_pass.label }} {{ form.confirm_pass(size=30) }}
            {% for err in form.confirm_pass.errors %}
            <span style="color: red">{{ err }}</span>
            {% endfor %}
        </p>
        {{ form.submit }}
    </form>
</div>
{% endblock %}